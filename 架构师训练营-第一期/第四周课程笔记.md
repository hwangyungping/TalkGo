# 第 四周课程笔记

**人生中困难是常态，幸福是短暂的，海明威说“勇气就是优雅地面对压力”**



### 互联网系统面临怎样的挑战？

高并发，大流量
高可用
海量数据
用户分布广泛，网络情况复杂
安全环境恶劣
需求快速变更，发布频繁
渐进式发展

### 应对高并发挑战的两个技术方向

#### 垂直伸缩

通过升级硬件和网络吞吐能力可以实现垂直伸缩。由于不需要改变应用架构，所以通常
被认为是最简单的短期伸缩性方案。

#### 水平伸缩

水平伸缩是指通过增加服务器提升计算能力的一类架构方法。
水平伸缩被认为是伸缩性的圣杯，水平伸缩可以克服垂直伸缩带来的单位计算成本随计
算能力增加而迅速飙升的问题。



|        | 垂直伸缩                       | 水平伸缩                                                     |
| ------ | ------------------------------ | ------------------------------------------------------------ |
| 思路   | 硬件方式                       | 软件方式                                                     |
| 复杂度 | 简单，通过提升单台服务器的能力 | 复杂，通过叠加多台服务器提升系统能力                         |
| 成本   | 成本高，单台服务器有硬件上限   | 成本低，可以通过多台低配置服务器整合出强大的系统能力，理论上无上限 |



### 互联网架构演化

架构演化第零阶段：最简单的互联网应用架构
架构演化第一阶段：应用数据分离
架构演化第二阶段：使用缓存改善系统性能
架构演化第三阶段：使用应用服务器集群改善系统的并发处理能力
架构演化第四阶段：数据库读写分离
架构演化第五阶段：使用反向代理和CDN 加速网站响应
架构演化第六阶段：使用分布式文件系统和分布式数据库系统
架构演化第七阶段：使用NoSQL 和搜索引擎
架构演化第八阶段：业务拆分
架构演化第九阶段：微服务及中台化
架构演化第十阶段大数据与智能化



### 互联网架构模式

互联网架构模式就是试图去描述那些为解决互联网系统高性能、高可用、易扩展、可伸
缩、安全等目标，被很多互联网应用重复使用的一些解决方案，这些解决方案是互联网
软件系统的重要组成部分。

分层  -- 横向切分

分割  -- 纵向切分

分布式

集群 -- 多台服务器部署相同应用构成一个集群，通过负载均衡设备共同对外提供服务。

缓存 -- 改善软件性能的第一手段，包括：CDN、反向代理、本地缓存、远程缓存

异步 -- 将一个业务操作分成多个阶段，每个阶段之间通过共享数据而不是直接调用的方法进行协作

冗余 -- 高可用

自动化

安全

### 互联网系统架构核心要素

高性能
高可用
可伸缩
-- 是否可以用多台服务器构建集群，是否容易向集群中添加新的服务器
可扩展
-- 如何设计系统的架构使其能够快速响应需求变化，是系统可扩展架构主要的目的。
安全



### 互联网架构技术一览

![1602051387521](images\1602051387521.png)



|                  | 架构技术                                                     |
| ---------------- | ------------------------------------------------------------ |
| 前端架构         | App 及Web 开发技术、浏览器及HTTP 优化技术、CDN、动静分离、图片服务、反向代理、DNS |
| 网关及应用层架构 | 网关架构、负载均衡、动态页面静态化、业务拆分                 |
| 服务层架构       | 微服务框架、分布式消息队列、分布式缓存、分布式一致性（锁）服务 |
| 存储层架构       | 分布式文件、分布式关系数据库、NoSQL 数据库                   |
| 后台架构         | 大数据平台、搜索引擎、推荐引擎、数据仓库                     |
| 运维与安全       | 数据采集与展示、数据监控与报警、攻击与防护、数据加密与解密   |



### **参考**

**大型网站技术架构-李智慧**

**极客时间 从0开始学架构**

